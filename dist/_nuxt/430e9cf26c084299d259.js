(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{410:function(e,t,d){"use strict";d.r(t);d(60);var r={name:"subject-media-type",props:["media","mediaType"]},c=d(4),n=Object(c.a)(r,(function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("div",["pdf"==e.mediaType?d("div",[d("object",{staticClass:"w-100",staticStyle:{height:"70vh"},attrs:{data:e.media.url,type:"application/pdf"}})]):"document"==e.mediaType?d("div",{staticClass:"subject-media-document mb-4 p-2"},[d("iframe",{staticStyle:{width:"100%","min-height":"500px",height:"70vh"},attrs:{frameborder:"0",src:"https://view.officeapps.live.com/op/embed.aspx?src="+e.media.url}}),e._v(" "),d("div",{staticClass:"text-center"},[d("a",{attrs:{href:e.media.url,target:"_blank"}},[d("i",{staticClass:"fa fa-download"}),e._v("\n        "+e._s(e.$t("download"))+"\n      ")])])]):"image"==e.mediaType?d("div",[d("img",{staticClass:"img-fluid",attrs:{src:e.media.url,"max-width":"100%"}})]):"audio"==e.mediaType?d("div",[d("audio",{attrs:{controls:""}},[d("source",{attrs:{src:e.media.url}}),e._v("\n      Your browser does not support the audio element.\n    ")])]):"video"==e.mediaType?d("div",[d("video",{attrs:{width:"100%",height:"500",controls:""}},[d("source",{attrs:{src:e.media.url,type:"video/mp4"}}),e._v("\n      Your browser does not support HTML5 video.\n    ")])]):e._e()])}),[],!1,null,null,null).exports,l={name:"subject-media-card",props:["media","mediaType"]},m={name:"media",props:["subject"],components:{SubjectMediaCard:Object(c.a)(l,(function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("div",[d("div",{staticClass:"row package-card"},[d("div",{staticClass:"col-lg-12 col-12 mobile-align"},[d("p",{staticClass:"package-name"},[e._v(e._s(e.media.filename))])]),e._v(" "),d("div",{staticClass:"col-md-12 col-sm-12 col-12 btn-p"},[d("a",{staticClass:"slash btn btn-view",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("show-media",{media:e.media,mediaType:e.mediaType})}}},[e._v(e._s(e.$t("view")))])])])])}),[],!1,null,null,null).exports,SubjectMedia:n},data:function(){return{mediaFiles:{data:[],typeName:null},currnetMedia:{},currnetView:"cards"}},watch:{"$route.query.meidaType":{immediate:!0,handler:function(e){e?(this.currnetView="cards",this.mediaFiles={data:[],typeName:null},this.fetchSubjectMedia(e)):this.$router.push(this.localePath("/student/subject/".concat(this.$route.params.id)))}}},methods:{fetchSubjectMedia:function(e){var t=this;if(this.subject&&this.subject.subjectMediaTypes&&this.subject.subjectMediaTypes.data){var d=this.subject.subjectMediaTypes.data.find((function(t){return t.type==e})).actions.data.find((function(e){return"view_subject_media"==e.key}));this.$axios.get(d.endpoint_url).then((function(d){t.mediaFiles=t.$formatter().deserialize(d.data),t.mediaFiles.typeName=e}))}}}},o=Object(c.a)(m,(function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("div",{staticClass:"subject-media"},["cards"==e.currnetView?d("div",{staticClass:"row"},e._l(e.mediaFiles.data,(function(t){return d("subject-media-card",{key:t.id,staticClass:"col-lg-3 col-md-4 col-sm-6 p-l3 width-50",attrs:{media:t,mediaType:e.mediaFiles.typeName},on:{"show-media":function(t){e.currnetView="media",e.currnetMedia=t.media,e.currnetMedia.mediaType=t.mediaType}}})})),1):e._e(),e._v(" "),"media"==e.currnetView?d("div",[d("h2",{staticClass:"mb-3"},[e._v(e._s(e.currnetMedia.file_name))]),e._v(" "),"media"==e.currnetView?d("subject-media",{attrs:{media:e.currnetMedia,mediaType:e.currnetMedia.mediaType}}):e._e(),e._v(" "),d("div",{staticClass:"text-center mt-4"},[d("a",{staticClass:"back-btn",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.currnetView="cards"}}},[d("i",{staticClass:"fa fa-list mr-1"}),e._v("\n        "+e._s(e.$t("back"))+"\n      ")])])],1):e._e()])}),[],!1,null,null,null);t.default=o.exports}}]);