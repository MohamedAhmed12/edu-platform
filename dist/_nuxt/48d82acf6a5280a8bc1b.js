(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{300:function(e,t,c){e.exports=c.p+"img/46cac22.svg"},447:function(e,t,c){"use strict";c.r(t);var n={name:"Generate",props:{data:{type:Array,default:function(){return[]}}},data:function(){return{sections:[],subSections:[],subject:{},selectedSections:[],difficultyLevels:[],selectedDifficultyLevel:0,isLoading:!0,questions:0}},computed:{subjects:function(){return this.data},disable:function(){return 0==this.selectedSections.length||0==this.selectedDifficultyLevel||0==this.questions}},mounted:function(){this.loadSections(this.subjects[0]),this.loadDifficultyLevels()},methods:{loadSections:function(e){var t=this;this.subject=e,this.sections=[],this.selectedSections=[],this.$axios.get("student/subjects/".concat(this.subject.id,"/sections")).then((function(e){t.subject=t.$formatter().deserialize(e.data),t.subject.sections&&(t.sections=t.subject.sections.data),t.isLoading=!1})).catch((function(e){t.$toast.error("Something went wrong, try again later"),console.log(e)}))},loadSubSections:function(section){var e=this;this.sections=[],this.selectedSections=[],this.$axios.get("student/subjects/section/".concat(section.id,"/sections")).then((function(t){var section=e.$formatter().deserialize(t.data);section.sections&&(e.subSections=section.sections.data),e.isLoading=!1})).catch((function(t){e.$toast.error("Something went wrong, try again later"),console.log(t)}))},loadDifficultyLevels:function(){var e=this;this.$axios.get("look-up?include=difficultyLevel").then((function(t){var data=e.$formatter().deserialize(t.data);e.difficultyLevels=data.included,e.selectedDifficultyLevel=e.difficultyLevels.length?e.difficultyLevels[0].id:0,e.isLoading=!1}))},generate:function(){var e=this;if(this.disable){this.$toast.error("it's required to Select section/s & the difficulty level & No. of questions")}else{var body={type:"exam",id:"null",attributes:{subject_id:parseInt(this.subject.id),subject_format_subject_ids:this.selectedSections,number_of_questions:this.questions,difficulty_level:parseInt(this.selectedDifficultyLevel)}};this.$axios.post("student/exams/generate-exam",{data:body}).then((function(t){var data=e.$formatter().deserialize(t.data);data.data&&!data.data.length&&data.meta.message?e.$toast.error(data.meta.message):(e.$router.push("/student/exercies/".concat(data.id)),e.isLoading=!1)})).catch((function(t){t.response.data.errors.length&&t.response.data.errors[0].detail&&e.$toast.error(t.response.data.errors[0].detail)}))}}}},o=c(4),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"light-blue-bg rounded-pill col-md-10 col-sm-12 mt-5"},[n("ul",{staticClass:"list-unstyled  subject-slider"},e._l(e.subjects,(function(t,c){return n("li",{key:c,staticClass:"rounded-8 blue-bg d-inline-block p-4 pl-4 pr-4",style:"background-color: "+t.color},[n("div",{staticClass:"row  rounded-pill ",on:{click:function(c){return e.loadSections(t)}}},[n("div",{staticClass:" col-12 p-1 align-self-center text-center"},[n("img",{staticClass:"img-fluid mb-2",attrs:{src:t.subject_image}}),e._v(" "),n("h4",{staticClass:"h4 mb-0 text-white lead"},[e._v(e._s(t.name))])])])])})),0)]),e._v(" "),n("div",{staticClass:"clearfix col-12 mb-4 pb-1"}),e._v(" "),e.sections.length?n("div",{staticClass:"light-blue-bg rounded-pill col-md-10 col-sm-12"},[n("div",{staticClass:"checkbox-container pl-2 pr-2 overflow-x-container h-100"},e._l(e.sections,(function(section,t){return n("label",{key:t,staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSections,expression:"selectedSections"}],staticClass:"d-none",attrs:{type:"checkbox"},domProps:{value:parseInt(section.id),checked:Array.isArray(e.selectedSections)?e._i(e.selectedSections,parseInt(section.id))>-1:e.selectedSections},on:{change:function(t){var c=e.selectedSections,n=t.target,o=!!n.checked;if(Array.isArray(c)){var l=parseInt(section.id),r=e._i(c,l);n.checked?r<0&&(e.selectedSections=c.concat([l])):r>-1&&(e.selectedSections=c.slice(0,r).concat(c.slice(r+1)))}else e.selectedSections=o}}}),e._v(" "),n("i",{staticClass:"fas fa-check"}),e._v(" "),n("img",{staticClass:"img-fluid mr-2",attrs:{src:c(300)}}),e._v(" "),n("span",{on:{click:function(t){return e.loadSubSections(section)}}},[e._v(e._s(section.title))])])})),0)]):e._e(),e._v(" "),e.subSections.length?n("div",{staticClass:"light-blue-bg rounded-pill col-md-10 col-sm-12"},[n("div",{staticClass:"checkbox-container pl-2 pr-2 overflow-x-container h-100"},e._l(e.subSections,(function(section,t){return n("label",{key:t,staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSections,expression:"selectedSections"}],staticClass:"d-none",attrs:{type:"checkbox"},domProps:{value:parseInt(section.id),checked:Array.isArray(e.selectedSections)?e._i(e.selectedSections,parseInt(section.id))>-1:e.selectedSections},on:{change:function(t){var c=e.selectedSections,n=t.target,o=!!n.checked;if(Array.isArray(c)){var l=parseInt(section.id),r=e._i(c,l);n.checked?r<0&&(e.selectedSections=c.concat([l])):r>-1&&(e.selectedSections=c.slice(0,r).concat(c.slice(r+1)))}else e.selectedSections=o}}}),e._v(" "),n("i",{staticClass:"fas fa-check"}),e._v(" "),n("img",{staticClass:"img-fluid mr-2",attrs:{src:c(300)}}),e._v(" "),n("span",[e._v(e._s(section.title))])])})),0)]):e._e(),e._v(" "),n("div",{staticClass:"actions col-md-10 col-sm-12 mt-4 pl-1 pr-1"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-3 col-12 "},[n("a",{staticClass:"btn btn-block rounded-8 text-center btn-red-bg pt-3 pb-3",attrs:{disable:e.disable},on:{click:e.generate}},[e._v("Start")])]),e._v(" "),n("div",{staticClass:"col-sm-3 col-12 pr-0 "},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.questions,expression:"questions"}],staticClass:"form-control h-100 border-0 rounded-8",on:{change:function(t){var c=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.questions=t.target.multiple?c:c[0]}}},[n("option",{attrs:{value:"0",disabled:""}},[e._v("No. Qs")]),e._v(" "),n("option",{attrs:{value:"5"}},[e._v("5")]),e._v(" "),n("option",{attrs:{value:"10"}},[e._v("10")]),e._v(" "),n("option",{attrs:{value:"20"}},[e._v("20")])])]),e._v(" "),e._l(e.difficultyLevels,(function(t,c){return n("div",{key:c,staticClass:"col-sm-2 col-4 pr-0"},[n("a",{class:"btn btn-block rounded-8 text-center btn-light-blue-bg pt-3 pb-3 "+(e.selectedDifficultyLevel==t.id?"selected":""),on:{click:function(c){e.selectedDifficultyLevel=t.id}}},[e._v("\n          "+e._s(t.attributes.name)+"\n        ")])])}))],2)])])}),[],!1,null,null,null);t.default=component.exports}}]);